# Monad Staking Bot

Автоматизированный бот для стейкинга в сети Monad Testnet. Бот выполняет стейкинг транзакции с случайными задержками и суммами для имитации естественного поведения пользователей.

## Описание

Этот бот предназначен для автоматического стейкинга в тестовой сети Monad. Он использует приватные ключи из файла для создания транзакций стейкинга с настраиваемыми параметрами:

- Случайные суммы стейкинга в заданном диапазоне
- Случайные задержки между транзакциями
- Поддержка множественных валидаторов
- Graceful shutdown при получении сигналов завершения

## Требования

- Go 1.24.0 или выше
- Доступ к Monad Testnet RPC
- Приватные ключи кошельков с достаточным балансом

## Установка

1. Клонируйте репозиторий:
```bash
git clone <repository-url>
cd monad-staking
```

2. Установите зависимости:
```bash
go mod download
```

3. Создайте файл с приватными ключами:
```bash
# Создайте файл private_keys.txt в корне проекта и добавьте приватные ключи (по одному на строку)
```

## Конфигурация

Отредактируйте файл `config.yaml` для настройки параметров:

```yaml
stake:
  min: 0.1      # Минимальная сумма стейкинга (в MON)
  max: 7.5      # Максимальная сумма стейкинга (в MON)

delay:
  min: 150.0    # Минимальная задержка между транзакциями (секунды)
  max: 458.0    # Максимальная задержка между транзакциями (секунды)

validators:     # Список ID валидаторов для стейкинга
  - 74
  - 1
  - 73
  # ... и так далее

contractAddress: "0x0000000000000000000000000000000000001000"  # Адрес контракта стейкинга

privateKeysFile: "private_keys.txt"  # Путь к файлу с приватными ключами

rpc: "https://monad-testnet.g.alchemy.com/v2/YOUR_API_KEY"  # RPC URL
```

### Настройка RPC

Замените `YOUR_API_KEY` в поле `rpc` на ваш собственный API ключ от Alchemy или другого провайдера RPC.

## Запуск

1. Убедитесь, что файл `private_keys.txt` содержит валидные приватные ключи
2. Проверьте настройки в `config.yaml`
3. Запустите бота:

```bash
go run cmd/main.go
```

### Альтернативный запуск

Скомпилируйте и запустите:

```bash
go build -o monad-staking cmd/main.go
./monad-staking
```

## Безопасность

⚠️ **ВАЖНО**: 
- Файл `private_keys.txt` добавлен в `.gitignore` и не будет закоммичен в репозиторий
- Никогда не делитесь своими приватными ключами
- Используйте только тестовые кошельки для тестовой сети
- Убедитесь, что у кошельков достаточно баланса для покрытия газа и стейкинга

## Остановка

Бот поддерживает graceful shutdown:
- Нажмите `Ctrl+C` для корректного завершения
- Бот дождется завершения активных транзакций (максимум 30 секунд)
- Все незавершенные транзакции будут обработаны

## Логирование

Бот выводит подробные логи о своей работе:
- Инициализация клиента и загрузка аккаунтов
- Создание и отправка транзакций
- Обработка ошибок
- Graceful shutdown

## Структура проекта

```
monad-staking/
├── cmd/
│   └── main.go              # Точка входа приложения
├── internal/
│   ├── client/              # Ethereum клиент и утилиты
│   ├── config/              # Конфигурация
│   ├── models/              # Модели данных
│   └── service/             # Основная логика стейкинга
├── pkg/
│   └── utils/               # Общие утилиты
├── config.yaml              # Конфигурационный файл
├── private_keys.txt         # Приватные ключи (игнорируется Git)
└── README.md               # Документация
```

## Устранение неполадок

### Ошибка подключения к RPC
- Проверьте правильность RPC URL в `config.yaml`
- Убедитесь, что у вас есть доступ к интернету
- Проверьте статус тестовой сети Monad

### Ошибки транзакций
- Убедитесь, что на кошельках достаточно баланса
- Проверьте правильность приватных ключей
- Убедитесь, что валидаторы активны

### Ошибки конфигурации
- Проверьте синтаксис YAML в `config.yaml`
- Убедитесь, что все обязательные поля заполнены
- Проверьте существование файла с приватными ключами

## Лицензия

Этот проект предназначен для образовательных и тестовых целей. Используйте на свой страх и риск.
